<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Creating a Twitter Bot Using Python and the Twitter API</title>
	
	
	
  <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/monokai.min.css">
	<link rel="stylesheet" href="/css/materialize.min.css">
	<link rel="stylesheet" href="/css/style.css">
	
	<meta name="generator" content="Hugo 0.19" />

	
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<script async>
			(function (i, s, o, g, r, a, m) {
					i['GoogleAnalyticsObject'] = r;
					i[r] = i[r] || function () {
							(i[r].q = i[r].q || []).push(arguments)
					}, i[r].l = 1 * new Date();
					a = s.createElement(o),
					m = s.getElementsByTagName(o)[0];
					a.async = 1;
					a.src = g;
					m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
			ga('create', 'UA-10255990-23', 'auto');
			ga('send', 'pageview');
	</script>
</head>
<body>

	<header>
		<nav>
			<div class="nav-wrapper">
				<a class="brand-logo" href="/">TutorialEdge.net</a>
				<a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="//about/">About</a></li>
					<li><a href="//get-involved/">Get Involved</a></li>
					<li><a href="//courses/">Courses</a></li>
					<li><a href="//post/">Tutorials</a></li>
				</ul>
				<ul class="side-nav" id="mobile-demo">
					<li><a href="//about/">About</a></li>
					<li><a href="//get-involved/">Get Involved</a></li>
					<li><a href="//courses/">Courses</a></li>
					<li><a href="//post/">Tutorials</a></li>
				</ul>
			</div>
		</nav>
	</header>
<div class="title-bar">
	<div class="container">
		<h1>Creating a Twitter Bot Using Python and the Twitter API</h1>
		<p>This tutorial teaches the user how they can build a twitter bot using both the Python progrmaming language and the RESTful Twitter Library. </p>
		
		<a href="/tags/python"><div class="chip">python</div></a>
		
	</div>
</div>

<div class="container">
	<div class="row">
		<div class="col l2">
			<div class="sidebar">
     
    <h3>python</h3>
    <ul> 
      
        <li><a href="/post/python/python-multithreading-tutorial/">Python Multithreading Tutorial - Concurrent Programming</a></li>
      
        <li><a href="/post/python/udp-client-server-python/">UDP Client and Server Tutorial in Python</a></li>
      
        <li><a href="/post/python/calculating-keyword-density-python/">Calculating Keyword Density of a Web Page with Python</a></li>
      
        <li><a href="/post/python/fetching-web-pages-python/">Fetching Web Pages In Python Using Urllib2</a></li>
      
        <li><a href="/post/python/creating-twitter-bot-python/">Creating a Twitter Bot Using Python and the Twitter API</a></li>
      
        <li><a href="/post/python/removing-html-from-string/">Removing HTML Tags from a String with Python</a></li>
      
        <li><a href="/post/python/python-multiprocessing-tutorial/">Python Multiprocessing Tutorial</a></li>
      
    </ul>
    

</div> 
		</div>
		<div class="col l8">	
			<article>
				<div class="info">Author: Elliot Forbes | Posted at: 15.04.2017 09:45</div>
				<div>
					<p>Twitter bots are a fantastic way to drum up a bit of interest in your brand or website and I've had fantastic results myself building up an audience for the Twitter account specifically for this website. This tutorial will hopefully cover everything it takes to construct your own twitter bot that utilizes the RESTful Twitter API. The source code for this Python wrapper for the Twitter API can be found here: <a href="https://github.com/bear/python-twitter">Github: Bear's Python-Twitter Wrapper</a></p>

<h2>Getting Started</h2>

<p>To get started you will have to use the pip tool to install the Twitter library on your machine. To do so you can use the python pip package manager by typing the following into the terminal:</p>

<pre><code class="language-c">pip install python-twitter
</code></pre>

<p>Full installation instructions can be found on the Readme.md file found on github if needed.</p>

<h2>Obtaining OAuth Access Tokens</h2>

<p>In order for this Twitter API to work you will have to generate OAuth access tokens for the owner of the application. These access tokens allow your application to run on behalf of the twitter account which you hold for your brand or website. The other option would be to use 3-Legged OAuth but in an attempt to keep this simple we'll be sticking to standard OAuth authentication. A good guide for building access tokens can be found on twitters dev subdomain here: <a href="https://dev.twitter.com/oauth/overview/application-owner-access-tokens">OAuth Access Tokens</a></p>

<h2>Connecting to your Twitter Account using OAuth</h2>

<p>The code for connecting to your Twitter account using this Bear's Python wrapper looks like so:</p>

<pre><code class="language-py">from twitter import Twitter, OAuth, TwitterHTTPError

consumer_key = ''
consumer_secret = ''
access_token_key = ''
access_token_secret = ''

bot = Twitter(auth=OAuth(access_token_key, access_token_secret,
            consumer_key, consumer_secret))
</code></pre>

<p>Replace the strings 'consumer_key' etc. with the appropriate keys and secrets generated for you and you should have successfully connected to the Twitter RESTful API. Now that we've connected we can begin to do some interesting things such as retweeting followers or searching tweets.</p>

<h2>Searching for Tweets</h2>

<p>The first thing we need to do is create a function for searching for tweets, this function will return all recent tweets that have mentioned a specific string anywhere within the tweet.</p>

<pre><code class="language-py">def search_tweets(query, count=100):
    return bot.search.tweets(query=query, result_type='recent', count=count)
</code></pre>

<h2>Favoriting Tweets</h2>

<p>So now that we've got the basic mechanisms in place to search for tweets, we now have to do something with them. The first interaction I'm going to show you how to do is favourite tweets.</p>

<pre><code class="language-py">def fav_tweet(tweet):
    try:
        result = t.favorites.create(_id=tweet['id'])
        print &quot;Favorited: %s&quot; % (result['text'])
        return result
    # when you have already favourited a tweet
    # this error is thrown
    except TwitterHTTPError as e:
        print &quot;Error: &quot;, e
        return None
</code></pre>

<h2>Retweeting Tweets</h2>

<p>Retweeting specific tweets is again very similar to favoriting tweets and can be useful if you want to, for instance, retweet all replies to any of the posts you make and try to improve your community presence. </p>

<pre><code class="language-py">def retweet_tweet(tweet):
    try:
        result = t.statuses.retweet._id(_id=tweet['id'])
        print &quot;Retweeted: %s&quot; % (result['text'])
        return result
    except TwitterHTTPError as e:
        print &quot;Error: &quot;, e
        return None
</code></pre>

<h2>Bringing it all together</h2>

<p>Now that you've got an idea of how to favorite and retweet tweets, we can bring this together into a bot that constantly runs on a server or wherever else you choose to run it.</p>

<pre><code class="language-py">from twitter import Twitter, OAuth, TwitterHTTPError
import time
#enter the corresponding information from your Twitter application:
consumer_key = ''#keep the quotes, replace this with your consumer key
consumer_secret = ''#keep the quotes, replace this with your consumer secret key
access_token_key = ''#keep the quotes, replace this with your access token
access_token_secret = ''#keep the quotes, replace this with your access token secret


t = Twitter(auth=OAuth(access_token_key, access_token_secret,
            consumer_key, consumer_secret))

def search_tweets(q, count=100):
    return t.search.tweets(q=q, result_type='recent', count=count)

def get_limit():
    try:
        result = t.application.rate_limit_status()
        print result
    except TwitterHTTPError as e:
        print &quot;Error: &quot;, e
        return None

def fav_tweet(tweet):
    try:
        result = t.favorites.create(_id=tweet['id'])
        print &quot;Favorited: %s&quot; % (result['text'])
        return result
    # when you have already favourited a tweet
    # this error is thrown
    except TwitterHTTPError as e:
        print &quot;Error: &quot;, e
        return None
    
def retweet_tweet(tweet):
    try:
        result = t.statuses.retweet._id(_id=tweet['id'])
        print &quot;Retweeted: %s&quot; % (result['text'])
        return result
    except TwitterHTTPError as e:
        print &quot;Error: &quot;, e
        return None
    
def auto_fav(q, count):
    result = search_tweets(q, count)
    a = result['statuses'][0]['user']['screen_name']
    print a
    success = 0
    for tweet in result['statuses']:
        if fav_tweet(tweet) is not None:
            success += 1
    print &quot;We Favorited a total of %i out of %i tweets&quot; % (success,
          len(result['statuses']))
    
def auto_retweet(q, count):
    result = search_tweets(q, count)
    a = result['statuses'][0]['user']['screen_name']
    print a
    success = 0
    for tweet in result['statuses']:
        if retweet_tweet(tweet) is not None:
            success += 1
        time.sleep(10)
    print &quot;We Favorited a total of %i out of %i tweets&quot; % (success, len(result['statuses']))
    
if __name__ == &quot;__main__&quot;:
    while(1):
        try:
            auto_retweet(&quot;GameDev&quot;, 1)
            auto_retweet(&quot;IndieDev&quot;, 1)
            auto_retweet(&quot;ScreenshotSaturday&quot;, 1)
        except Exception, e:
            print(e)   
        
        try:
            auto_fav(&quot;IndieDev&quot;, 1)
        except Exception, e:
            print(e)
</code></pre>

				</div>
				<div>
					<div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://tutorialedge.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
				</div>
			</article>
		</div>

		<div class="col l2">
			<div class="wrapper">
    <div class="container">
      <img src="https://twitter.com/Elliot_F/profile_image?size=original" alt="Elliot Forbes" class="trophy" />
      <h1>Elliot Forbes</h1>
      <span class="score">Follow me:</span>
  
      <div class="buttons">
          <a href="https://twitter.com/Elliot_F" target="_blank" class="button light">
              <span><i class="ion ion-social-twitter"></i> Twitter</span>
          </a>
      </div>
    </div>
</div>

		</div>
		
	</div>
</div>

<div class="join-us">
	<div class="container">
		<div class="row">
			<div class="col l8">
				<h5>Become a Contributor!</h5>
				<p>Think you could improve the articles on this site? Feel free to submit a pull request to the sites github repo.</p>
			</div>
			<div class="col l4">
				<a href="https://github.com/elliotforbes/tutorialedge-v2"><button class="btn valign">Fork Our Repo</button></a>
			</div>
		</div>
	</div>
</div>

<footer class="page-footer">
	<div class="container">
		<div class="row">
			<div class="col l6 s12">
				<h5>TutorialEdge.net</h5>
				<p class="text-lighten-4">This site is dedicated to bringing you the highest quality courses designed to teach you the ins and outs of programming with various frameworks and programming languages.</p>
			</div>
			<div class="col l4 offset-l2 s12">
				<h5>Links</h5>
				<ul>
					<li><a class="text-lighten-3" href="/tutorials">All Tutorials</a></li>
					<li><a class="text-lighten-3" href="/books">Books</a></li>
					<li><a class="text-lighten-3" href="/contact">Contact</a></li>
					<li><a class="text-lighten-3" href="/courses">Courses</a></li>
					<li><a class="text-lighten-3" href="/blog">Blog</a></li>
					<li><a class="text-lighten-3" href="/about">About</a></li>
					
				</ul>
			</div>
		</div>
	</div>
	<div class="footer-copyright">
		<div class="container">
		TutorialEdge © 2016 Copyright 
		</div>
	</div>
</footer>

<script>
$(".button-collapse").sideNav();
</script>