<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Parsing JSON files With Golang</title>
	
	
	
  <link rel="stylesheet" href="//code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/monokai.min.css">
	<link rel="stylesheet" href="https://tutorialedge.net/css/materialize.min.css">
	<link rel="stylesheet" href="https://tutorialedge.net/css/style.css">
	
	<meta name="generator" content="Hugo 0.19" />

	
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
	<script src="https://tutorialedge.net/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<script async>
			(function (i, s, o, g, r, a, m) {
					i['GoogleAnalyticsObject'] = r;
					i[r] = i[r] || function () {
							(i[r].q = i[r].q || []).push(arguments)
					}, i[r].l = 1 * new Date();
					a = s.createElement(o),
					m = s.getElementsByTagName(o)[0];
					a.async = 1;
					a.src = g;
					m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
			ga('create', 'UA-10255990-23', 'auto');
			ga('send', 'pageview');
	</script>
</head>
<body>

	<header>
		<nav>
			<div class="nav-wrapper">
				<a class="brand-logo" href="https://tutorialedge.net">TutorialEdge.net</a>
				<a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="https://tutorialedge.net/about/">About</a></li>
					<li><a href="https://tutorialedge.net/get-involved/">Get Involved</a></li>
					<li><a href="https://tutorialedge.net/courses/">Courses</a></li>
					<li><a href="https://tutorialedge.net/post/">Tutorials</a></li>
				</ul>
				<ul class="side-nav" id="mobile-demo">
					<li><a href="https://tutorialedge.net/about/">About</a></li>
					<li><a href="https://tutorialedge.net/get-involved/">Get Involved</a></li>
					<li><a href="https://tutorialedge.net/courses/">Courses</a></li>
					<li><a href="https://tutorialedge.net/post/">Tutorials</a></li>
				</ul>
			</div>
		</nav>
	</header>
<div class="title-bar">
	<div class="container">
		<h1>Parsing JSON files With Golang</h1>
		<p>In this tutorial we examine the encoding/json go package and how to parse xml files.</p>
		
	</div>
</div>

<div class="container">
	<div class="row">
		<div class="col l2">
			<div class="sidebar">
     
    <h3>golang</h3>
    <ul> 
      
        <li><a href="/post/golang/reading-console-input-golang/">Reading in Console Input in Golang</a></li>
      
        <li><a href="/post/golang/executing-system-commands-with-golang/">Executing System Commands With Golang</a></li>
      
        <li><a href="/post/golang/creating-simple-web-server-with-golang/">Creating A Simple Web Server With Golang</a></li>
      
        <li><a href="/post/golang/creating-restful-api-with-golang/">Creating a RESTful API With Golang</a></li>
      
        <li><a href="/post/golang/sending-email-using-go-and-mailgun/">Sending Email Using Go And Mailgun</a></li>
      
        <li><a href="/post/golang/implementing-bubble-sort-with-golang/">Implementing the Bubble Sort Algorithm using Golang</a></li>
      
        <li><a href="/post/golang/writing-a-twitter-bot-golang/">Writing A Twitter Bot in Golang</a></li>
      
        <li><a href="/post/golang/golang-mysql-tutorial/">Golang MySQL Tutorial</a></li>
      
        <li><a href="/post/golang/golang-integer-string-conversion-tutorial/">Golang Integer String Conversion Tutorial</a></li>
      
        <li><a href="/post/golang/parsing-xml-with-golang/">Parsing XML Files With Golang</a></li>
      
    </ul>
    

</div> 
		</div>
		<div class="col l8">	
			<article>
				<div class="info">Author: Elliot Forbes | Posted at: 09.04.2017 21:07</div>
				<div>
					

<p>JSON or Javascript Object Notation as it is short for, is a standard format for sending and receiving information. We could represent the same information with either XML or JSON, but JSON provides one advantage in the fact it is far more compact. This provides advantageous for situations where bandwidth is
In this tutorial we’ll be looking at how one can parse xml files from the local file system using Golang’s in-built ‘encoding/json’ package.</p>

<p>JSON is now the most popular message format available and you&rsquo;ll find that most RESTful APIs provide JSON responses due to the fact it&rsquo;s easily readable and most popular languages provide JSON support by default.</p>

<h2 id="the-encoding-json-package">The Encoding/Json Package</h2>

<p>I recommend you check out the official documentation for:  <a href="https://golang.org/pkg/encoding/json/">Encoding/Json</a>.</p>

<h2 id="our-sample-json-file">Our Sample JSON File</h2>

<p>For the purpose of this tutorial we’ll be parsing the following json file. We&rsquo;ll be parsing nested elements, integers and arrays.</p>

<pre><code>{
  &quot;users&quot;: [
    {
      &quot;name&quot; : &quot;Elliot&quot;,
      &quot;type&quot; : &quot;Reader&quot;,
      &quot;age&quot; : 23,
      &quot;social&quot; : {
        &quot;facebook&quot; : &quot;https://facebook.com&quot;,
        &quot;twitter&quot; : &quot;https://twitter.com&quot;
      }
    },
    {
      &quot;name&quot; : &quot;Fraser&quot;,
      &quot;type&quot; : &quot;Author&quot;,
      &quot;age&quot; : 17,
      &quot;social&quot; : {
        &quot;facebook&quot; : &quot;https://facebook.com&quot;,
        &quot;twitter&quot; : &quot;https://twitter.com&quot;
      }
    }
  ]
}
</code></pre>

<h2 id="reading-the-json-file">Reading the JSON File</h2>

<p>We’ll be using the os package in order to open up our users.xml file from our filesystem.</p>

<pre><code>// Open our xmlFile
xmlFile, err := os.Open(&quot;users.xml&quot;)
// if we os.Open returns an error then handle it
if err != nil {
	fmt.Println(err)
}
fmt.Println(&quot;Successfully Opened users.xml&quot;)
// defer the closing of our xmlFile so that we can parse it later on
defer xmlFile.Close()
</code></pre>

<h2 id="defining-our-structs">Defining our Structs</h2>

<p>We&rsquo;ll be decoding JSON and populating these Go data structures by unmarshalling but first we&rsquo;ll need to define these data structures like so:</p>

<pre><code>Import (
	…
	// import our encoding/json package
	“encoding/json”
	…
)


// Users struct which contains
// an array of users
type Users struct {
	Users []User `json:&quot;users&quot;`
}


// User struct which contains a name
// a type and a list of social links
type User struct {
	Name   string `json:&quot;name&quot;`
	Type   string `json:&quot;type&quot;`
	Age    int    `json:&quot;Age&quot;`
	Social Social `json:&quot;social&quot;`
}


// Social struct which contains a
// list of links
type Social struct {
	Facebook string `json:&quot;facebook&quot;`
	Twitter  string `json:&quot;twitter&quot;`
}
</code></pre>

<h2 id="unmarshalling-our-json">Unmarshalling our JSON</h2>

<p>Once we&rsquo;ve used the os.Open function to read our file into memory, we then have to convert it toa byte array using ioutil.ReadAll. Once it&rsquo;s in a byte array we can pass it to our json.Unmarshal() method.</p>

<pre><code>// read our opened xmlFile as a byte array.
	byteValue, _ := ioutil.ReadAll(jsonFile)


	// we initialize our Users array
	var users Users


	// we unmarshal our byteArray which contains our
	// jsonFile's content into 'users' which we defined above
	json.Unmarshal(byteValue, &amp;users)


	// we iterate through every user within our users array and
	// print out the user Type, their name, and their facebook url
	// as just an example
	for i := 0; i &lt; len(users.Users); i++ {
		fmt.Println(&quot;User Type: &quot; + users.Users[i].Type)
		fmt.Println(&quot;User Age: &quot; + strconv.Itoa(users.Users[i].Age))
		fmt.Println(&quot;User Name: &quot; + users.Users[i].Name)
		fmt.Println(&quot;Facebook Url: &quot; + users.Users[i].Social.Facebook)
	}


</code></pre>

<h2 id="full-implementation">Full Implementation</h2>

<p>Below you&rsquo;ll find the full implementation of this tutorial.</p>

<pre><code>package main


import (
	&quot;encoding/json&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;
	&quot;os&quot;
	&quot;strconv&quot;
)


// Users struct which contains
// an array of users
type Users struct {
	Users []User `json:&quot;users&quot;`
}


// User struct which contains a name
// a type and a list of social links
type User struct {
	Name   string `json:&quot;name&quot;`
	Type   string `json:&quot;type&quot;`
	Age    int    `json:&quot;Age&quot;`
	Social Social `json:&quot;social&quot;`
}


// Social struct which contains a
// list of links
type Social struct {
	Facebook string `json:&quot;facebook&quot;`
	Twitter  string `json:&quot;twitter&quot;`
}


func main() {


	// Open our jsonFile
	jsonFile, err := os.Open(&quot;users.json&quot;)
	// if we os.Open returns an error then handle it
	if err != nil {
		fmt.Println(err)
	}


	fmt.Println(&quot;Successfully Opened users.json&quot;)
	// defer the closing of our jsonFile so that we can parse it later on
	defer jsonFile.Close()


	// read our opened xmlFile as a byte array.
	byteValue, _ := ioutil.ReadAll(jsonFile)


	// we initialize our Users array
	var users Users


	// we unmarshal our byteArray which contains our
	// jsonFile's content into 'users' which we defined above
	json.Unmarshal(byteValue, &amp;users)


	// we iterate through every user within our users array and
	// print out the user Type, their name, and their facebook url
	// as just an example
	for i := 0; i &lt; len(users.Users); i++ {
		fmt.Println(&quot;User Type: &quot; + users.Users[i].Type)
		fmt.Println(&quot;User Age: &quot; + strconv.Itoa(users.Users[i].Age))
		fmt.Println(&quot;User Name: &quot; + users.Users[i].Name)
		fmt.Println(&quot;Facebook Url: &quot; + users.Users[i].Social.Facebook)
	}


}
</code></pre>

<h2 id="conclusion">Conclusion</h2>

<p>If you found this tutorial helpful or have anything else to add then please let me know in the comments section below.</p>

				</div>
				<div>
					<div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://tutorialedge.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
				</div>
			</article>
		</div>

		<div class="col l2">
			<div class="wrapper">
    <div class="container">
      <img src="https://twitter.com/Elliot_F/profile_image?size=original" alt="Elliot Forbes" class="trophy" />
      <h1>Elliot Forbes</h1>
      <span class="score">Follow me:</span>
  
      <div class="buttons">
          <a href="https://twitter.com/Elliot_F" target="_blank" class="button light">
              <span><i class="ion ion-social-twitter"></i> Twitter</span>
          </a>
      </div>
    </div>
</div>

		</div>
		
	</div>
</div>

<div class="join-us">
	<div class="container">
		<div class="row">
			<div class="col l8">
				<h5>Become a Contributor!</h5>
				<p>Think you could improve the articles on this site? Feel free to submit a pull request to the sites github repo.</p>
			</div>
			<div class="col l4">
				<a href="https://github.com/elliotforbes/tutorialedge-v2"><button class="btn valign">Fork Our Repo</button></a>
			</div>
		</div>
	</div>
</div>

<footer class="page-footer">
	<div class="container">
		<div class="row">
			<div class="col l6 s12">
				<h5>TutorialEdge.net</h5>
				<p class="text-lighten-4">This site is dedicated to bringing you the highest quality courses designed to teach you the ins and outs of programming with various frameworks and programming languages.</p>
			</div>
			<div class="col l4 offset-l2 s12">
				<h5>Links</h5>
				<ul>
					<li><a class="text-lighten-3" href="/tutorials">All Tutorials</a></li>
					<li><a class="text-lighten-3" href="/books">Books</a></li>
					<li><a class="text-lighten-3" href="/contact">Contact</a></li>
					<li><a class="text-lighten-3" href="/courses">Courses</a></li>
					<li><a class="text-lighten-3" href="/blog">Blog</a></li>
					<li><a class="text-lighten-3" href="/about">About</a></li>
					
				</ul>
			</div>
		</div>
	</div>
	<div class="footer-copyright">
		<div class="container">
		TutorialEdge © 2016 Copyright 
		</div>
	</div>
</footer>

<script>
$(".button-collapse").sideNav();
</script>