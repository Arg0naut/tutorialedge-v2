<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Managing Game States With LWJGL 3</title>
	
	
	
  <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/monokai.min.css">
	<link rel="stylesheet" href="/css/materialize.min.css">
	<link rel="stylesheet" href="/css/style.css">
	
	<meta name="generator" content="Hugo 0.19" />

	
	<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>
	<script src="/js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<script async>
			(function (i, s, o, g, r, a, m) {
					i['GoogleAnalyticsObject'] = r;
					i[r] = i[r] || function () {
							(i[r].q = i[r].q || []).push(arguments)
					}, i[r].l = 1 * new Date();
					a = s.createElement(o),
					m = s.getElementsByTagName(o)[0];
					a.async = 1;
					a.src = g;
					m.parentNode.insertBefore(a, m)
			})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
			ga('create', 'UA-10255990-23', 'auto');
			ga('send', 'pageview');
	</script>
</head>
<body>

	<header>
		<nav>
			<div class="nav-wrapper">
				<a class="brand-logo" href="/">TutorialEdge.net</a>
				<a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="//about/">About</a></li>
					<li><a href="//get-involved/">Get Involved</a></li>
					<li><a href="//courses/">Courses</a></li>
					<li><a href="//post/">Tutorials</a></li>
				</ul>
				<ul class="side-nav" id="mobile-demo">
					<li><a href="//about/">About</a></li>
					<li><a href="//get-involved/">Get Involved</a></li>
					<li><a href="//courses/">Courses</a></li>
					<li><a href="//post/">Tutorials</a></li>
				</ul>
			</div>
		</nav>
	</header>
<div class="title-bar">
	<div class="container">
		<h1>Managing Game States With LWJGL 3</h1>
		<p>This tutorial demonstrates how you can effectively manage what state your game is in using Java&#39;s enum and a few simple switch cases.</p>
		
		<a href="/tags/gamedev"><div class="chip">gamedev</div></a>
		
		<a href="/tags/java"><div class="chip">java</div></a>
		
		<a href="/tags/lwjgl3"><div class="chip">lwjgl3</div></a>
		
		<a href="/tags/graphics"><div class="chip">graphics</div></a>
		
	</div>
</div>

<div class="container">
	<div class="row">
		<div class="col l2">
			<div class="sidebar">
     
    <h3>lwjgl3</h3>
    <ul> 
      
        <li><a href="/post/java/lwjgl3/getting-started-java-lwjgl3/">Getting Started with LWJGL 3 and OpenGL</a></li>
      
        <li><a href="/post/java/lwjgl3/lwjgl-3-mouse-current-position-tutorial/">LWJGL 3 Mouse Current Position Tutorial</a></li>
      
        <li><a href="/post/java/lwjgl3/lwjgl-3-keyboard-input-handler-tutorial/">LWJGL 3 Keyboard Input Handler Tutorial</a></li>
      
        <li><a href="/post/java/lwjgl3/lwjgl-3-orthographic-camera-tutorial/">LWJGL 3 Orthographic Camera Tutorial</a></li>
      
        <li><a href="/post/java/lwjgl3/creating-game-window-lwjgl3-glfw/">Creating a Game Window using GLFW - LWJGL3</a></li>
      
        <li><a href="/post/java/lwjgl3/lwjgl-3-fps-main-game-loop/">LWJGL 3 Main Game Loop Tutorial</a></li>
      
        <li><a href="/post/java/lwjgl3/managing-game-state-with-lwjgl3/">Managing Game States With LWJGL 3</a></li>
      
    </ul>
    

</div> 
		</div>
		<div class="col l8">	
			<article>
				<div class="info">Author: Elliot Forbes | Posted at: 15.04.2017 08:23</div>
				<div>
					<p>Managing game states effectively in any game can sometimes be tricky and if not done properly from the outset, can lead to a tangled mess of spaghetti code that’s almost unmaintainable. In this tutorial I’m hopefully going to be helping to prevent any of these problems from arising in your own personal game development projects. For the purpose of this tutorial I’ll be using Java and the OpenGL wrapper library LWJGL3 in order to demonstrate how to effectively manage game states.</p>

<h2>The Design</h2>

<p>So straight away I know I want to have a game that has a main menu, as well as the ability to pause and play and possibly a movie state that allows me to show in-game cinematics or something to that effect. So from this we’ll create the following states: MENU, PLAY, PAUSE, MOVIE<p>

<h2>The Implementation</h2>

<p>In Java we can easily represent these states like so using an enum: </p>

<pre><code class="language-java">private enum State {
    MENU, PLAY, PAUSE, MOVIE 
};

private static State gameState = State.MENU;
</code></pre>

<p>After we’ve declared what states we want and initialized what state we are in on startup, we can then add some form of logic to our update and render functions that allow us to choose when and where to update and render different aspects of our game. </p>

<pre><code class="language-java">    public void update() {
        handleInput();
        
        switch(gameState) {
            case MENU:
                // update all menu stuff
                break;
            case PLAY:
                // update our player object and allow us to play
                player1.update();
                break;
                
            case PAUSE:
                // stop updating our game objects and essentially do nothing
                break;
                
            case MOVIE:
                // Play any movie clips...
                break;
                
            default:
                break;  
        }
        
    }
    
    public void render() {
        
        switch(gameState){
            case MENU:
                // Just show our background, we can add some cool menus and stuff
                // here but for now I'm keeping it simple.
                bg.render();
                break;
            case PLAY:
                // Render both our player and background and in update switch
                // we enable player1.update()
                bg.render();
                player1.render();
                break;
            case PAUSE:
                // Render our player and background but don't allow them to
                // update
                bg.render();
                player1.render();
                break;
            case MOVIE:
                // Play any movie clips...
                break;
            default:
                // Switch cases should almost always have a default case
                // this is so that it catches any unexpected values although.
                break;
        }
        
    }

</code></pre>

<p><h2>Switching States</h2>
<p>As a means of switching states, I’ve created a simple method in my game class that checks to see whether any of the main keys I have defined for switching states have been pressed.</p></p>

<pre><code class="language-java">public void handleInput(){
		if(KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_SPACE)){
			gameState = State.PLAY;
		}
		if(KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_P)){
			System.err.println(&quot;Pausing Play...&quot;);
			gameState = State.PAUSE;
		}
		if(KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_R)){
			gameState = State.PLAY;
			System.err.println(&quot;Resuming Play...&quot;);
		}
		if(KeyboardHandler.isKeyDown(GLFW.GLFW_KEY_ESCAPE)){
			gameState = State.MENU;
		}
	}

</code></pre>

				</div>
				<div>
					<div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://tutorialedge.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
				</div>
			</article>
		</div>

		<div class="col l2">
			<div class="wrapper">
    <div class="container">
      <img src="https://twitter.com/Elliot_F/profile_image?size=original" alt="Elliot Forbes" class="trophy" />
      <h1>Elliot Forbes</h1>
      <span class="score">Follow me:</span>
  
      <div class="buttons">
          <a href="https://twitter.com/Elliot_F" target="_blank" class="button light">
              <span><i class="ion ion-social-twitter"></i> Twitter</span>
          </a>
      </div>
    </div>
</div>

		</div>
		
	</div>
</div>

<div class="join-us">
	<div class="container">
		<div class="row">
			<div class="col l8">
				<h5>Become a Contributor!</h5>
				<p>Think you could improve the articles on this site? Feel free to submit a pull request to the sites github repo.</p>
			</div>
			<div class="col l4">
				<a href="https://github.com/elliotforbes/tutorialedge-v2"><button class="btn valign">Fork Our Repo</button></a>
			</div>
		</div>
	</div>
</div>

<footer class="page-footer">
	<div class="container">
		<div class="row">
			<div class="col l6 s12">
				<h5>TutorialEdge.net</h5>
				<p class="text-lighten-4">This site is dedicated to bringing you the highest quality courses designed to teach you the ins and outs of programming with various frameworks and programming languages.</p>
			</div>
			<div class="col l4 offset-l2 s12">
				<h5>Links</h5>
				<ul>
					<li><a class="text-lighten-3" href="/tutorials">All Tutorials</a></li>
					<li><a class="text-lighten-3" href="/books">Books</a></li>
					<li><a class="text-lighten-3" href="/contact">Contact</a></li>
					<li><a class="text-lighten-3" href="/courses">Courses</a></li>
					<li><a class="text-lighten-3" href="/blog">Blog</a></li>
					<li><a class="text-lighten-3" href="/about">About</a></li>
					
				</ul>
			</div>
		</div>
	</div>
	<div class="footer-copyright">
		<div class="container">
		TutorialEdge © 2016 Copyright 
		</div>
	</div>
</footer>

<script>
$(".button-collapse").sideNav();
</script>